MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;******************************************************************************
                      00002 ;   This file is a basic template for assembly code for a PIC18F25K50. Copy   *
                      00003 ;   this file into your project directory and modify or add to it as needed.  *
                      00004 ;                                                                             *
                      00005 ;   Refer to the MPASM User's Guide for additional information on the         *
                      00006 ;   features of the assembler.                                                *
                      00007 ;                                                                             *
                      00008 ;   Refer to the PIC18Fx5K5X Data Sheet for additional                        *
                      00009 ;   information on the architecture and instruction set.                      *
                      00010 ;                                                                             *
                      00011 ;******************************************************************************
                      00012 ;                                                                             *
                      00013 ;    Filename:   EjBlinkerPlantillaHID.asm                                    *
                      00014 ;    Date:         Febr 13 2018                                               *
                      00015 ;    File Version:  2.0                                                       *
                      00016 ;                                                                             *
                      00017 ;    Author:      FZAMORA                                                     *
                      00018 ;    Company:     CEX.com.co                                                  *
                      00019 ;                                                                             *
                      00020 ;******************************************************************************
                      00021 ;                                                                             *
                      00022 ;    Files Required: p18F25K50_fz.INC                                         *
                      00023 ;                                                                             *
                      00024 ;******************************************************************************
                      00025 ;* Notas:  plantilla para trabajar con HID USB bootloader PIC18F25K50 en assembler
                      00026 ;* con board CEX 1.3 y 1.4. 
                      00027 ;* -Modo bootloader:  conectar a micro USB mientras se mantiene presionado RESET(RE3/MCLR)
                      00028 ;*  y RB2 y/o RB4 (botones en la board), luego liberar el RESET y luego RB2/RB4
                      00029 ;* hasta que el programa HIDBootloader.exe (win) reconozca el hardware.  El bootloader
                      00030 ;* ocupa memoria flash desde 0x000 hasta 0x7FF (2KB).
                      00031 ;* -Modo Run: para ejecutar programa de usuario cargado previamente con bootloader,
                      00032 ;* (desde 0x800 hasta 0x7FFF)...
                      00033 ;* conectar USB o cualquier otra fuente de alimentación soportada por board CEX
                      00034 ;* Presionar  RESET si el programa no inicia como se espera.
                      00035 ;* Demo Programa ejemplo (Versión 1): 
                      00036 ;* Conexiones CEX 1.3/4 requeridas (definido en hwconfig.inc): 
                      00037 ;* -Conecte D9 del shield con +5V (ánodo común R, G y B) (DIP SW 5)
                      00038 ;* - D2 conectado por defecto. (RA4 --> cátodo Green)   
                      00039 ;*Al energizar board modo run, led GREEN parpadea con frecuencia 
                      00040 ;* cercana a 1Hz. 
                      00041 ;* Versión 2:
                      00042 ;* - Conecte RC1 con D9 en JP2. (RC1 --> cátodo Red)
                      00043 ;* - Conecte RC2 con D6 en JP3. (RC2 --> cátodo Blue)
                      00044 ;* Si se presiona SW2, se enciende adicionalmente led BLUE, de fondo.
                      00045 ;* El parpadeo de BLUE ahora producirá una mezcla entre GREEN (Blue= off) y GREEN+BLUE
                      00046 ;* (Blue = on)a la frecuencia indiada cercana a 1Hz. Para modificar ejemplo abra proyecto 
                      00047 ;* o cree uno nuevo con archivo fuente .asm y archivos header (x4) mencionados aquí.
                      00048 ;* No olvide agregar el linker (script) requerido para bootloader o no bootloader.
                      00049 ;* Al modificar código ejemplo, ensamble todo (build all), conecte board en modo bootloader,
                      00050 ;* desde HIDBootloader.exe busque <nombremainASM>.hex, cargue y programe. 
                      00051 ;* Ruta del .hex en proyecto.X: .dist/default/production/ (*.cof, .hex, .map)   
                      00052 ;* Haga RESET desde la app windows del bootloader o el botón en la CEX board 
                      00053 ;* y observe el funcionamiento de modificaciones del programa.
MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00054 ;*****************************************************************************************
                      00055 
                      00056         LIST P=18F25K50         ;directive to define processor
                      00057         
Error[105]  : Cannot open file (Include File "p18f25k50_fz.inc" not found)
                      00058 #include "p18f25k50_fz.inc"
                      00059         ;processor specific variable definitions
                      00060 
                      00061 #define nobootloader 1                  ;nobootloader = 1 =  prog with pickit3 or similar or simulation
                      00062 #define version 2
Error[105]  : Cannot open file (Include File "25k50config.inc" not found)
                      00063 #include "25k50config.inc"  ;MCU configuration bits (heredada de bootloader)
Error[105]  : Cannot open file (Include File "vectors.inc" not found)
                      00064 #include "vectors.inc"          ;vectors remapping for bootloader
Error[105]  : Cannot open file (Include File "hwconfig.inc" not found)
                      00065 #include "hwconfig.inc"                         
                      00066         ;nobootloader = 0 =  prog. with USB HID bootloader 2.91 microchip
                      00067 ;******************************************************************************
                      00068 ;//incluir OBLIGATORIAMENTE los siguientes archivos en Header Files del proyecto:
                      00069         ;I/O definitions for user app
                      00070 ;//el archivo 18F25k50_zhidbldr.lkr debe estar presente en el directorio y agregarse
                      00071 ;//a carpeta linker script o linker en mplabIDE o MPLABx respectivamente si nobootloader=0.
                      00072 ;//si nobootloader = 1, cambie linker file a 18f25k50_znobldr.lkr
                      00073 ;******************************************************************************
                      00074 ;Variable definitions
                      00075 ; These variables are only needed if low priority interrupts are used.
                      00076 ; More variables may be needed to store other special function registers used
                      00077 ; in the interrupt routines.
                      00078 
                      00079                 CBLOCK  0x050   ;0x00 t0 0x5F --> gpr access ram (.96 positions)
  00000050            00080                 WREG_TEMP       ;variable used for context saving
  00000051            00081                 STATUS_TEMP     ;variable used for context saving
  00000052            00082                 BSR_TEMP        ;variable used for context saving
                      00083                 ENDC
                      00084 
                      00085                 CBLOCK  0x000
                      00086                 
  00000000            00087         d1                      ;d1,d2,d3 usadas por delay05s
  00000001            00088         d2
  00000002            00089         d3
  00000003            00090         lect
  00000004            00091         dato
  00000005            00092         dato2
  00000006            00093         Unidades
  00000007            00094         Centenas
  00000008            00095         Decenas
  00000009            00096         UNIDADES1
  0000000A            00097         Centenas2
  0000000B            00098         Decenas2
  0000000C            00099         UNIDADES2
  0000000D            00100         puer
  0000000E            00101         rnu
  0000000F            00102         nu
MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000010            00103         val
  00000011            00104         nd
  00000012            00105         unidad
  00000013            00106         Boton1
  00000014            00107         EXAMPLE         ;example of a variable in access RAM
                      00108                 ENDC
                      00109 ;******************************************************************************
                      00110 ;Constant  definitions
                      00111 ;
                      00112                 
                      00113                 
                      00114                 
                      00115 ;******************************************************************************
                      00116 ;EEPROM data
                      00117 ; Data to be programmed into the Data EEPROM is defined here
                      00118 
F00000                00119                 ORG     0xf00000
                      00120 
F00000 6554 7473 4420 00121                 DE      "Test Data",0,1,2,3,4,5
       7461 0061 0201 
       0403 0005 
                      00122 
                      00123 ;******************************************************************************
                      00124 
                      00125 
                      00126 ;Reset vector
                      00127 ; This code will start executing when a reset occurs.
F00010                00128 Vectors:
Error[149]  : Directive only allowed when generating an object file
Error[113]  : Symbol not previously defined (REMAPPED_APP_RESET_VECTOR)
                      00129 R_vectors      code     REMAPPED_APP_RESET_VECTOR
000000                00130 RVReset:
000000 EF1E F000      00131                 goto    Main            ;go to start of main code
                      00132 
                      00133 ;******************************************************************************
                      00134 ;High priority interrupt vector
                      00135 ; This code will start executing when a high priority interrupt occurs or
                      00136 ; when any interrupt occurs if interrupt priorities are not enabled.
                      00137 
Error[149]  : Directive only allowed when generating an object file
Error[113]  : Symbol not previously defined (REMAPPED_APP_HIGH_ISR_VECTOR)
                      00138 R_IntH        code    REMAPPED_APP_HIGH_ISR_VECTOR
000000                00139 RVIntH:
Error[113]  : Symbol not previously defined (HighInt)
Error[118]  : Overwriting previous address contents (0000)
Error[118]  : Overwriting previous address contents (0001)
000000 D7FF           00140                 bra     HighInt         ;go to high priority interrupt routine
                      00141 
                      00142 ;******************************************************************************
                      00143 ;Low priority interrupt vector and routine
                      00144 ; This code will start executing when a low priority interrupt occurs.
                      00145 ; This code can be removed if low priority interrupts are not used.
                      00146 
MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Error[149]  : Directive only allowed when generating an object file
Error[113]  : Symbol not previously defined (REMAPPED_APP_LOW_ISR_VECTOR)
                      00147 R_IntL        code     REMAPPED_APP_LOW_ISR_VECTOR
000000                00148 RVIntL:
Error[113]  : Symbol not previously defined (STATUS)
Error[118]  : Overwriting previous address contents (0000)
Error[118]  : Overwriting previous address contents (0001)
Error[118]  : Overwriting previous address contents (0002)
Error[118]  : Overwriting previous address contents (0003)
000000 C000 F051      00149                 movff   STATUS,STATUS_TEMP      ;save STATUS register
Error[113]  : Symbol not previously defined (WREG)
000004 C000 F050      00150                 movff   WREG,WREG_TEMP          ;save working register
Error[113]  : Symbol not previously defined (BSR)
000008 C000 F052      00151                 movff   BSR,BSR_TEMP            ;save BSR register
                      00152 
                      00153 ;       *** low priority interrupt code goes here ***
                      00154 
                      00155 
Error[113]  : Symbol not previously defined (BSR)
00000C C052 F000      00156                 movff   BSR_TEMP,BSR            ;restore BSR register
Error[113]  : Symbol not previously defined (WREG)
000010 C050 F000      00157                 movff   WREG_TEMP,WREG          ;restore working register
Error[113]  : Symbol not previously defined (STATUS)
000014 C051 F000      00158                 movff   STATUS_TEMP,STATUS      ;restore STATUS register
000018 0010           00159                 retfie
                      00160 
                      00161 ;******************************************************************************
                      00162 ;High memory PCL tables 
                      00163                 
                      00164                 
                      00165 ;******************************************************************************         
                      00166 ;High priority interrupt routine
                      00167 ; The high priority interrupt code is placed here to avoid conflicting with
                      00168 ; the low priority interrupt vector.
                      00169 
                      00170 ;HighInt:
00001A                00171 High_Interrupt:  ;Interrupcion de prioridad alta
                      00172   ; COmprobar 
Error[113]  : Symbol not previously defined (Intcon3)
00001A A100           00173     btfss Intcon3, .0 ; boton de temperatura
00001C D001           00174     bra $+4
00001E EC14 F000      00175     call Checkboton1; 
                      00176     ;btfss Incon3, 0 
                      00177     ;bra $+4
                      00178     ;call Checkboton2;    
Error[113]  : Symbol not previously defined (Intcon3)
000022 9300           00179     bcf Intcon3, .1
                      00180     ;bcf Intcon3, .0
Error[113]  : Symbol not previously defined (Intcon3)
000024 8700           00181     bsf Intcon3, .3
                      00182     ;bsf Incon3,  3
Error[113]  : Symbol not previously defined (fast)
000026 0010           00183     retfie fast
MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00184 
Warning[207]: Found label after column 1. (Checkboton1)
000028                00185  Checkboton1:  ; subrutijna averigua el estado boton Variable de medicion
Error[113]  : Symbol not previously defined (Intcon3)
000028 9700           00186   bcf Intcon3, .3
Warning[207]: Found label after column 1. (DELAY1)
00002A                00187   DELAY1
Error[113]  : Symbol not previously defined (portB)
00002A A100           00188   Btfss portB, .0
00002C D001           00189   bra $+4
00002E 2B13           00190   incf Boton1
000030 0E02           00191   movlw 0x02
000032 6513           00192   cpfsgt Boton1
000034 D001           00193   bra $+4
000036 6B13           00194   clrf Boton1
000038 0012           00195   return
                      00196 
                      00197 
                      00198 
                      00199 ;       *** high priority interrupt code goes here ***
                      00200 
                      00201 
Error[113]  : Symbol not previously defined (FAST)
00003A 0010           00202                 retfie  FAST
                      00203 
                      00204 
                      00205 ;******************************************************************************
                      00206 ;Start of main program
                      00207 ; The main program code is placed here.
                      00208 
Error[108]  : Illegal character (2)
                      00209 version equ 2           ;versión 1 blinker básico o 2 doble led (requiere cablear)
                      00210                 
00003C                00211 Main:
                      00212 ;       *** main code goes here ***
00003C EC4E F000      00213         call SETUPOSC   ;configura oscilador interno 16MHz ?!
000040 EC55 F000      00214         call SETUPIO    ;configura LED1,2,3 y botones (pull ups)
000044 EC7A F000      00215         CALL SETUPADC
000048                00216 LOOP
000048 EC81 F000      00217         call CONVERSION
00004C EC69 F000      00218         call CONTROL
000050 EC8B F000      00219         CALL GENBCD
000054 ECB5 F000      00220         CALL visual
000058 D7F7           00221         BRA LOOP
                      00222 
                      00223 ;*******
                      00224 
                      00225    ; BSF                pLED1                   ; apaga cátodo LED (Green)
                      00226                         ; repite indefinidamente
                      00227 
                      00228 ;******************************************************************************
                      00229 ;subroutines:
                      00230 ; Delay = 0.5 seconds
MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00231 ; Clock frequency = 16 MHz ??
                      00232 
                      00233 ; Actual delay = 0.5 seconds = 2000000 cycles
                      00234 ; Error = 0 %
                      00235 
                      00236         
                      00237 
00005A                00238 Delay05s                        ;  ejemplo de retardo por subrutina (SW, generado con PICDelay pero
                      00239                                 ;  ajustando código a PIC18F - PC alineado)
                      00240                         ;1999996 cycles
00005A 0E11           00241         movlw   0x11
00005C 6F00           00242         movwf   d1
00005E 0E5D           00243         movlw   0x5D
000060 6F01           00244         movwf   d2
000062 0E05           00245         movlw   0x05
000064 6F02           00246         movwf   d3
000066                00247 Delay05s_0
000066 2F00           00248         decfsz  d1, f
000068 EF37 F000      00249         goto    $+6
00006C 2F01           00250         decfsz  d2, f
00006E EF3A F000      00251         goto    $+6
000072 2F02           00252         decfsz  d3, f
000074 EF33 F000      00253         goto    Delay05s_0
                      00254 
                      00255                         ;4 cycles (including call)
000078 0012           00256         return
                      00257 
                      00258         
00007A                00259 Delay01s                        ;  ejemplo de retardo por subrutina (SW, generado con PICDelay pero
                      00260                                 ;  ajustando código a PIC18F - PC alineado)
                      00261                         ;1999996 cycles
00007A 0EFF           00262         movlw   0xFF
00007C 6F00           00263         movwf   d1
00007E 0E19           00264         movlw   0x19
000080 6F01           00265         movwf   d2
000082                00266 Delay01s_0
000082 2F00           00267         decfsz  d1, f
000084 EF45 F000      00268         goto    $+6
000088 2F01           00269         decfsz  d2, f
00008A EF41 F000      00270         goto    Delay01s_0
                      00271 
                      00272                         ;4 cycles (including call)
00008E 0012           00273         return
                      00274         
                      00275 
Error[116]  : Address label duplicated or different in second pass (DELAY1)
000090                00276 DELAY1
000090 0E30           00277     movlw 0x30
000092 6F00           00278     movwf d1
000094 2F00           00279 DELAY1_0 decfsz d1,f
000096 EF4A F000      00280     goto DELAY1_0
00009A 0012           00281     return
                      00282 
MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00283 ;*************SUBROUTINES******************************************************
00009C                00284 SETUPOSC:
00009C 0E80           00285                 movlw   0x80
Error[113]  : Symbol not previously defined (OSCTUNE)
00009E 5300           00286                 movf    OSCTUNE                                 ; 3X PLL ratio mode selected
0000A0 0E72           00287                 movlw   0x72
Error[113]  : Symbol not previously defined (OSCCON)
0000A2 6F00           00288                 movwf   OSCCON                                  ; Switch to 16MHz HFINTOSC
0000A4 0E10           00289                 movlw   0x10
Error[113]  : Symbol not previously defined (OSCCON2)
0000A6 6F00           00290                 movwf   OSCCON2                                 ; Enable PLL, SOSC, PRI OSC drivers turn
                            ed off
                      00291 #if 0       ; habilitar solo si se usa PLL para oscildor interno
                      00292 PLL_Redy_loop
                      00293                 btfss   OSCCON2, PLLRDY
                      00294                 bra             PLL_Redy_loop                   ; Wait for PLL lock
                      00295                 movlw   0x90
                      00296                 movwf   ACTCON
                      00297 #endif
                      00298                 
0000A8 0012           00299                 RETURN
                      00300 #if 1
0000AA                00301 SETUPIO:
                      00302         ;CLRF    LATA
                      00303         ;CLRF   LATB
                      00304         
                      00305         ;BCF            anLED1          ; con ayuda de definiciones hwconfig.inc se definen pines I/O
                      00306         ;BCF            tLED1   ;out
                      00307 
                      00308 #if version==2  
Error[113]  : Symbol not previously defined (PORTA)
0000AA 6B00           00309     CLRF PORTA
Error[113]  : Symbol not previously defined (PORTB)
0000AC 6B00           00310     CLRF PORTB
0000AE 0EFD           00311     movlw 0xFD ; puerto para la interrupcion boton rb1
Error[113]  : Symbol not previously defined (ANSELB)
0000B0 6F00           00312     movwf ANSELB
0000B2 0EFF           00313     movlw 0xFF
Error[113]  : Symbol not previously defined (ADCON1)
0000B4 6F00           00314     movwf ADCON1
0000B6 0EFF           00315     movlw 0xFF
Error[113]  : Symbol not previously defined (TRISB)
0000B8 6F00           00316     movwf TRISB
0000BA 0E00           00317     movlw 0x00
Error[113]  : Symbol not previously defined (TRISA)
0000BC 6F00           00318     movwf TRISA
0000BE 0E00           00319     movlw 0x00
Error[113]  : Symbol not previously defined (TRISC)
0000C0 6F00           00320     movwf TRISC
                      00321     ;configura interrupcion
0000C2 0EF0           00322     movlw 0xF0
Error[113]  : Symbol not previously defined (INTCON)
0000C4 6F00           00323     movwf INTCON
MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0000C6 0EF0           00324     movlw 0xF0
Error[113]  : Symbol not previously defined (INTCON2)
0000C8 6F00           00325     movwf INTCON2
                      00326  ;   bcf INTXON2, INTEDG0
                      00327     ;movwf INTCON2
0000CA 0ED8           00328     movlw  0xD8      ;0x11011000
Error[113]  : Symbol not previously defined (INTCON3)
0000CC 6F00           00329     movwf INTCON3
Error[113]  : Symbol not previously defined (ANSELB)
0000CE 9700           00330     BCF ANSELB,.3
                      00331     
                      00332                 
                      00333 #endif
                      00334     
                      00335                 
0000D0 0012           00336                 RETURN
                      00337 #endif
                      00338 
0000D2                00339 CONTROL:
                      00340 ;00101000
                      00341 ;00001111
0000D2 0E02           00342         movlw 0x02
0000D4 6313           00343         cpfseq Boton1
0000D6 D001           00344         bra $+4
0000D8 EC74 F000      00345         call Maximo 
0000DC 0E01           00346         movlw 0x01
0000DE 6313           00347         cpfseq Boton1
0000E0 D001           00348         bra $+4
0000E2 EC77 F000      00349         call Minimo
0000E6 0012           00350                 RETURN 
0000E8                00351 Maximo:
0000E8 0E28           00352         movlw 0x28
0000EA 6F03           00353         movwf lect
0000EC 0012           00354                 RETURN
0000EE                00355 Minimo:      
0000EE 0E0F           00356         movlw 0x0F
0000F0 6F03           00357         movwf lect
0000F2 0012           00358                 RETURN
                      00359                 
0000F4                00360 SETUPADC:
0000F4 0E05           00361         MOVLW b'00000101'
Error[113]  : Symbol not previously defined (ADCON2)
0000F6 6F00           00362         MOVWF ADCON2
0000F8 0E00           00363         MOVLW b'00000000'
Error[113]  : Symbol not previously defined (ADCON1)
0000FA 6F00           00364         MOVWF ADCON1
0000FC 0E25           00365         MOVLW b'00100101'
Error[113]  : Symbol not previously defined (ADCON0)
0000FE 6F00           00366         MOVWF ADCON0
                      00367     
000100 0012           00368                 RETURN
                      00369     
000102                00370 CONVERSION:
MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Error[113]  : Symbol not previously defined (GO)
Error[113]  : Symbol not previously defined (ADCON0)
000102 8100           00371         BSF ADCON0,GO
000104                00372 espera 
Error[113]  : Symbol not previously defined (GO)
Error[113]  : Symbol not previously defined (ADCON0)
000104 B100           00373         BTFSC ADCON0,GO
000106 D7FE           00374         BRA espera
Error[113]  : Symbol not previously defined (ADRESH)
000108 5100           00375         MOVF ADRESH,W
00010A 6F03           00376         MOVWF lect
00010C 0E32           00377         movlw d'50'
00010E 6F04           00378         movwf dato
000110 0E05           00379         movlw d'5'
000112 6F05           00380         movwf dato2
                      00381 ;       
000114 0012           00382                 RETURN
                      00383                 
000116                00384 GENBCD:
000116 6B06           00385        CLRF Unidades
000118 6B08           00386        clrf Decenas
00011A 6B07           00387        clrf Centenas
                      00388             
                      00389        ;Comienza el proceso de otención de valores BCD 
                      00390        ;para Centenas, Decenas y unidades atraves de restas
                      00391        ;sucesivas.
00011C                00392 CENTENAS1
00011C 5104           00393        movf dato,W      ;W=d'100'
00011E 5D03           00394        subwf lect,W     ;Resto - d'100' (W)
Error[113]  : Symbol not previously defined (C)
Error[113]  : Symbol not previously defined (STATUS)
000120 A100           00395        btfss STATUS,C    ;Resto menor que d'100'?
000122 EF99 F000      00396        goto DECENAS1     ;SI
000126 6F03           00397        movwf lect       ;NO, Salva el resto
000128 0E01           00398        movlw d'1'
00012A 2507           00399        ADDWF Centenas,W
00012C 6F07           00400        movwf Centenas
00012E EF8E F000      00401        goto CENTENAS1    ;Realiza otra resta
                      00402        
000132                00403 DECENAS1
000132 5105           00404        movf dato2,W      ;W=d'10'
000134 5D03           00405        subwf lect,W     ;Resto - d'10' (W)
Error[113]  : Symbol not previously defined (C)
Error[113]  : Symbol not previously defined (STATUS)
000136 A100           00406        btfss STATUS,C    ;Resto menor que d'10'?
000138 EFA4 F000      00407        goto UNIDADES10    ;Si
00013C 6F03           00408        movwf lect       ;No, Salva el resto
00013E 0E01           00409        movlw d'1'
000140 2508           00410        ADDWF Decenas,W
000142 6F08           00411        movwf Decenas
000144 EF99 F000      00412        goto DECENAS1     ;Realiza otra resta
                      00413            
000148                00414 UNIDADES10
MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000148 5103           00415        MOVF lect,W
00014A 6F06           00416        movwf Unidades
00014C 6B03           00417        clrf lect
00014E 5108           00418 f       movf Decenas,W
                      00419        ;movwf PORTA
                      00420 
                      00421        
000150 0012           00422     RETURN
                      00423     
                      00424 
000152                00425 TABLA: 
                      00426 
Error[113]  : Symbol not previously defined (PCL)
000152 2700           00427      ADDWF      PCL,F
000154 0C3F           00428     RETLW       b'0111111'
000156 0C06           00429     RETLW       b'0000110'
000158 0C5B           00430     RETLW       b'1011011'
00015A 0C4F           00431     RETLW       b'1001111'
00015C 0C66           00432     RETLW       b'1100110'
00015E 0C6D           00433     RETLW       b'1101101'
000160 0C7D           00434     RETLW       b'1111101'
000162 0C47           00435     RETLW       b'1000111'
000164 0C7F           00436     RETLW       b'1111111'  
000166 0C67           00437     RETLW       b'1100111'  
                      00438     
000168 0012           00439     RETURN
                      00440  
                      00441     
                      00442     
00016A                00443 visual:  
                      00444     
00016A 4508           00445     RLNCF Decenas,W   ;Imprime el dígito de las centenas
00016C ECA9 F000      00446     call TABLA
Error[113]  : Symbol not previously defined (LATA)
000170 6F00           00447     movwf LATA
Error[113]  : Symbol not previously defined (LATC)
000172 8300           00448     BSF LATC,.1
000174 EC3D F000      00449     CALL Delay01s
Error[113]  : Symbol not previously defined (LATC)
000178 9300           00450     BCF LATC,.1
                      00451     ;CALL Delay01s
                      00452 
00017A 4507           00453     RLNCF Centenas,W   ;Imprime el dígito de las centenas
00017C ECA9 F000      00454     call TABLA
Error[113]  : Symbol not previously defined (LATA)
000180 6F00           00455     movwf LATA
Error[113]  : Symbol not previously defined (LATC)
000182 8100           00456     BSF LATC,.0
000184 EC3D F000      00457     CALL Delay01s
Error[113]  : Symbol not previously defined (LATC)
000188 9100           00458     BCF LATC,.0
                      00459     ;CALL Delay01s
                      00460     
MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00018A 4506           00461     RLNCF Unidades,W   ;Imprime el dígito de las centenas
00018C ECA9 F000      00462     call TABLA
Error[113]  : Symbol not previously defined (LATA)
000190 6F00           00463     movwf LATA
Error[113]  : Symbol not previously defined (LATC)
000192 8500           00464     BSF LATC,.2
000194 EC3D F000      00465     CALL Delay01s
Error[113]  : Symbol not previously defined (LATC)
000198 9500           00466     BCF LATC,.2
                      00467     ;CALL Delay01s
                      00468     
00019A 0012           00469     RETURN
                      00470 
                      00471     
                      00472 ;******************************************************************************
                      00473 ;End of program
                      00474 
                      00475                 END
MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE 12


SYMBOL TABLE
  LABEL                             VALUE 

BSR_TEMP                          00000052
Boton1                            00000013
CENTENAS1                         0000011C
CONTROL                           000000D2
CONVERSION                        00000102
Centenas                          00000007
Centenas2                         0000000A
Checkboton1                       00000028
DECENAS1                          00000132
DELAY1                            0000002A
DELAY1_0                          00000094
Decenas                           00000008
Decenas2                          0000000B
Delay01s                          0000007A
Delay01s_0                        00000082
Delay05s                          0000005A
Delay05s_0                        00000066
EXAMPLE                           00000014
GENBCD                            00000116
High_Interrupt                    0000001A
LOOP                              00000048
Main                              0000003C
Maximo                            000000E8
Minimo                            000000EE
RVIntH                            00000000
RVIntL                            00000000
RVReset                           00000000
SETUPADC                          000000F4
SETUPIO                           000000AA
SETUPOSC                          0000009C
STATUS_TEMP                       00000051
TABLA                             00000152
UNIDADES1                         00000009
UNIDADES10                        00000148
UNIDADES2                         0000000C
Unidades                          00000006
Vectors                           00F00010
WREG_TEMP                         00000050
__18F25K50                        00000001
d1                                00000000
d2                                00000001
d3                                00000002
dato                              00000004
dato2                             00000005
espera                            00000104
f                                 0000014E
lect                              00000003
nd                                00000011
nobootloader                      1
nu                                0000000F
puer                              0000000D
rnu                               0000000E
unidad                            00000012
MPASM 5.82  /HOME/LOTHARIUS16/GITS/CONTROL_D   2-6-2019  0:15:52         PAGE 13


SYMBOL TABLE
  LABEL                             VALUE 

val                               00000010
version                           2
visual                            0000016A


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXX---- ---------------- ----------------
0000 : XXXXXXXXXXXXXXXX ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Bytes Used:   428
Program Memory Bytes Free: 32340


Errors   :    68
Warnings :     2 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

